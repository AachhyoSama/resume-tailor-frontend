<h5>Click me to chat</h5>

<button class="chat-icon" (click)="toggleChatbox()">
  <img src="../../../../assets/images/kitten-dark.png" alt="Chat Icon" class="image-class">
</button>

<nb-card-body>
  <div class="row">
    <div class="chat-container col-md-12 col-lg-6 col-xxxl-6" [class.open]="isChatboxOpen">
      <nb-chat title="Tailored Help Bot" size="medium" status="primary">
        <nb-chat-message *ngFor="let msg of messages" [type]="msg.type" [message]="msg.text" [reply]="msg.reply"
          [sender]="msg.user.name" [date]="msg.date" [files]="msg.files" [quote]="msg.quote" [latitude]="msg.latitude"
          [longitude]="msg.longitude" [avatar]="msg.user.avatar">
        </nb-chat-message>
        <nb-chat-form (send)="sendMessage($event)" [dropFiles]="true">
          <input nbInput fullWidth type="text"
            class="with-button ng-pristine ng-valid input-full-width size-medium shape-rectangle nb-transition ng-touched status-basic"
            placeholder="Type a message">
        </nb-chat-form>
      </nb-chat>
      <div class="upload-document">
        <!-- Button to toggle file input -->
        <button nbButton class="attach-document-button" (click)="toggleFileInput()">
          <nb-icon icon="attach-outline" class="icons" width="20"></nb-icon>
        </button>
        <!-- File input -->
        <input nbButton type="file" (change)="onFileSelected($event)" class="file-input" *ngIf="isFileInputVisible">
      </div>
    </div>
  </div>
</nb-card-body>
